"use strict";(()=>{var e={};e.id=3243,e.ids=[3243],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},92983:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>h,originalPathname:()=>b,patchFetch:()=>S,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>v,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>f});var i={};a.r(i),a.d(i,{GET:()=>d,POST:()=>p});var n=a(95815),o=a(51150),r=a(10007),s=a(30596),c=a(72225);async function l(e){let{searchParams:t}=new URL(e.url);t.get("type");let a="true"===t.get("status");try{let e={dealership:{id:"toyota-naples",name:"Toyota Naples",address:"2875 Airport Rd S, Naples, FL 34112",phone:"(239) 775-6010",website:"https://www.toyotanaples.com",manager:"Sarah Chen",salesTeam:12,serviceTeam:8},pilotProgram:{status:"active",startDate:"2024-01-15",phase:"production_integration",nextMilestone:"full_voice_optimization",completionRate:.78,successMetrics:{aiVisibilityIncrease:.23,revenueAttributionAccuracy:.91,competitorResponseTime:"4 hours",customerSatisfactionScore:4.7}},dataIntegration:{realDataSources:a?[{source:"dealership_crm",status:"connected",dataQuality:.94,lastSync:new Date(Date.now()-3e5).toISOString(),recordCount:15847},{source:"inventory_management",status:"connected",dataQuality:.97,lastSync:new Date(Date.now()-18e4).toISOString(),vehicleCount:127},{source:"google_my_business",status:"connected",dataQuality:.89,lastSync:new Date(Date.now()-6e5).toISOString(),reviewCount:1247},{source:"radio_campaign_data",status:"partial",dataQuality:.76,lastSync:new Date(Date.now()-36e5).toISOString(),adCount:24},{source:"website_analytics",status:"connected",dataQuality:.92,lastSync:new Date(Date.now()-12e4).toISOString(),sessionCount:8934}]:[],mockDataUsage:a?.15:1,hybridMode:a,dataValidationScore:a?.91:.85},liveMetrics:a?{currentVisibility:84,monthlyRevenue:967e3,voiceSearchQueries:2341,radioCampaignROI:4.7,lotOptimizationImpact:34200,competitiveAlerts:7,customerNPS:67,leadConversionRate:.31}:{currentVisibility:78,monthlyRevenue:85e4,voiceSearchQueries:1987,radioCampaignROI:3.8,lotOptimizationImpact:28900,competitiveAlerts:3,customerNPS:58,leadConversionRate:.24},pilotFeedback:{managerFeedback:{overall:4.6,easeOfUse:4.4,valueGenerated:4.8,implementation:4.2,comments:["AI visibility insights directly improved our Google ranking","Revenue attribution finally shows which marketing works","Competitive alerts helped us respond to Honda's campaign immediately","Lot optimization recommendations increased premium sales by 12%"]},salesTeamFeedback:{overall:4.3,dashboardUsability:4.5,customerInsights:4.7,dailyUtility:4,topFeatures:["Customer journey tracking","Voice search query insights","Competitive pricing alerts","Inventory optimization suggestions"]},serviceTeamFeedback:{overall:4.1,appointmentInsights:4.4,serviceOptimization:3.8,customerCommunication:4.3}},implementationProgress:[{milestone:"Initial API Integration",status:"completed",completedDate:"2024-01-18",duration:"3 days",success:!0},{milestone:"Voice Search Optimization Deployment",status:"completed",completedDate:"2024-01-25",duration:"7 days",success:!0,impact:"23% voice search visibility increase"},{milestone:"Radio Campaign Integration",status:"completed",completedDate:"2024-02-02",duration:"8 days",success:!0,impact:"15% radio ROI improvement"},{milestone:"Lot Intelligence Implementation",status:"completed",completedDate:"2024-02-08",duration:"6 days",success:!0,impact:"$34,200 additional monthly revenue"},{milestone:"Competitive Monitoring Activation",status:"completed",completedDate:"2024-02-12",duration:"4 days",success:!0,impact:"4-hour competitor response time"},{milestone:"Revenue Attribution System",status:"in_progress",expectedCompletion:"2024-02-25",progress:.85},{milestone:"Full Multi-Channel Integration",status:"planned",plannedStart:"2024-02-26",estimatedDuration:"10 days"}],challengesAndSolutions:[{challenge:"CRM data inconsistency affecting attribution accuracy",solution:"Implemented data validation pipeline with 94% accuracy",impact:"Revenue attribution confidence increased from 67% to 91%",timeline:"resolved_in_5_days"},{challenge:"Radio campaign data integration complexity",solution:"Built custom API connector for Clear Channel partnership",impact:"Automated radio campaign ROI tracking",timeline:"resolved_in_12_days"},{challenge:"Staff training and adoption resistance",solution:"Created role-specific training modules and success metrics",impact:"87% daily active usage by month 2",timeline:"ongoing_improvement"}],scalabilityLearnings:{technicalScalability:{apiPerformance:"excellent",dataProcessing:"good",concurrentUsers:"tested_up_to_25",systemReliability:.997},businessScalability:{trainingTime:"2 days average per staff member",onboardingComplexity:"medium",customizationNeeds:"minimal",integrationEffort:"15 person-days average",maintenanceRequirement:"2 hours per week"},replicationReadiness:{codebaseMaturity:"production_ready",documentationCompleteness:.89,automationLevel:.76,supportSystemReadiness:"adequate",industryTemplateReady:!0}},businessImpact:a?{quantifiedBenefits:{monthlyRevenueIncrease:117e3,costSavings:23e3,efficiencyGains:34e3,competitiveAdvantage:67e3},qualitativeBenefits:["Increased confidence in marketing decisions","Faster competitive response capabilities","Improved customer experience through optimization","Data-driven inventory management","Enhanced staff productivity and satisfaction"],totalROI:8.4,paybackPeriod:"3.2 months",netPresentValue:134e4}:null};return s.Z.json(e)}catch(e){return console.error("Toyota Naples Pilot API error:",e),s.Z.json({error:"Failed to fetch Toyota Naples pilot data"},{status:500})}}async function u(e){try{let{action:t,parameters:a}=await e.json();switch(t){case"update_integration_status":return s.Z.json({success:!0,message:"Integration status updated successfully",newStatus:a.status,affectedSystems:a.systems||["all"],validationRequired:"production"===a.status,nextSteps:"production"===a.status?["Run full system validation","Schedule staff training","Monitor performance metrics"]:["Continue with mock data","Prepare for integration"]});case"collect_feedback":return s.Z.json({success:!0,message:"Feedback collected and processed",feedbackId:`feedback-${Date.now()}`,category:a.category,rating:a.rating,processingStatus:"analyzed",actionItems:a.rating<3?["Schedule follow-up call","Review specific concerns"]:["Continue monitoring"]});case"generate_pilot_report":return s.Z.json({success:!0,message:"Pilot program report generation initiated",reportId:`pilot-report-${Date.now()}`,reportType:"comprehensive",estimatedCompletion:new Date(Date.now()+9e5).toISOString(),sections:["executive_summary","technical_performance","business_impact","user_feedback","scalability_analysis","recommendations"]});case"prepare_rollout_template":return s.Z.json({success:!0,message:"Industry rollout template generation started",templateId:`template-${Date.now()}`,basedOnPilot:!0,includesLearnings:!0,estimatedCompletion:new Date(Date.now()+18e5).toISOString(),components:["implementation_checklist","training_materials","integration_scripts","success_metrics","troubleshooting_guide"]});default:return s.Z.json({error:"Unknown pilot action",availableActions:["update_integration_status","collect_feedback","generate_pilot_report","prepare_rollout_template"]},{status:400})}}catch(e){return s.Z.json({error:"Failed to process pilot action"},{status:500})}}let d=(0,c.c2)(l),p=(0,c.c2)(u),m=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/pilot/toyota-naples/route",pathname:"/api/pilot/toyota-naples",filename:"route",bundlePath:"app/api/pilot/toyota-naples/route"},resolvedPagePath:"/Users/briankramer/Documents/GitHub/dealership-ai/apps/web/app/api/pilot/toyota-naples/route.ts",nextConfigOutput:"standalone",userland:i}),{requestAsyncStorage:g,staticGenerationAsyncStorage:y,serverHooks:v,headerHooks:h,staticGenerationBailout:f}=m,b="/api/pilot/toyota-naples/route";function S(){return(0,r.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:y})}},72225:(e,t,a)=>{a.d(t,{c2:()=>r,do:()=>c,vG:()=>l,xq:()=>s});var i=a(30596),n=a(44955);function o(e,t={}){return async a=>{let{roles:o=[],requireDealerId:r=!1,bypassInDevelopment:s=!0}=t;try{let t=await (0,n.getToken)({req:a,secret:process.env.NEXTAUTH_SECRET});if(!t)return i.Z.json({error:"Authentication required"},{status:401});let s={id:t.sub,email:t.email,name:t.name,role:t.role,dealerId:t.dealerId};if(o.length>0&&!o.includes(s.role))return i.Z.json({error:"Insufficient permissions",required:o,current:s.role},{status:403});if(r&&!s.dealerId)return i.Z.json({error:"Dealer association required"},{status:403});return a.user=s,e(a)}catch(e){return console.error("Auth middleware error:",e),i.Z.json({error:"Authentication verification failed"},{status:500})}}}function r(e){return o(e,{roles:["admin"]})}function s(e){return o(e,{roles:["admin","dealer"],requireDealerId:!0})}function c(e,t,a){return"admin"===a||("dealer"===a||"user"===a)&&t===e}function l(e){let{searchParams:t,pathname:a}=new URL(e.url),i=t.get("dealerId");if(i)return i;let n=a.split("/"),o=n.indexOf("dealer");if(-1!==o&&n[o+1])return n[o+1]}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[1262,722,4955],()=>a(92983));module.exports=i})();