"use strict";(()=>{var e={};e.id=4764,e.ids=[4764],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},69289:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>l,originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>d});var r={};a.r(r),a.d(r,{POST:()=>u});var o=a(95815),s=a(51150),n=a(10007),i=a(30596);async function u(e){try{let{message:t,dealerId:a,userTier:r,businessInfo:o,conversationHistory:s}=await e.json(),n=["I can help you with that! As your AI Assistant, I'm here to support your dealership operations.","Based on your current AI visibility score, I recommend focusing on improving your ChatGPT presence first.","Your dealership's performance metrics show good potential for growth in the AI search space.","I can analyze your competitor's strategies and suggest improvements for your online presence.","Would you like me to help you optimize your schema markup or improve your local SEO?","Let me check your current zero-click search performance and suggest some improvements.","Your UGC sentiment analysis shows positive trends. Would you like detailed recommendations?"];await new Promise(e=>setTimeout(e,1e3+2e3*Math.random()));let u=n[Math.floor(Math.random()*n.length)],c=Math.floor(150*Math.random())+50,p=["analyze_visibility","check_competitors","update_schema","generate_content"],h=Math.random()>.7?[p[Math.floor(Math.random()*p.length)]]:[];return i.Z.json({message:u,tokens:c,cost:c/1e3*.002,functions:h,usage:{remaining:Math.max(0,{1:50,2:200,3:500,4:2e3}[r]-Math.floor(20*Math.random())),resetTime:new Date(Date.now()+864e5)}})}catch(e){return console.error("AI Assistant chat error:",e),i.Z.json({error:"Failed to process message"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/ai-assistant/chat/route",pathname:"/api/ai-assistant/chat",filename:"route",bundlePath:"app/api/ai-assistant/chat/route"},resolvedPagePath:"/Users/briankramer/Documents/GitHub/dealership-ai/apps/web/app/api/ai-assistant/chat/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:h,serverHooks:m,headerHooks:l,staticGenerationBailout:d}=c,g="/api/ai-assistant/chat/route";function y(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1262,722],()=>a(69289));module.exports=r})();