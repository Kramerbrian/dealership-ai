(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{12970:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var l=r(31105),a=r(75557),n=r(19561),t=r(57715),i=r(16622);function o(){var e,s,r,o;let{data:d}=(0,n.useSession)(),[c,u]=(0,a.useState)("profile");return(0,l.jsxs)(i.Qg,{children:[(0,l.jsx)(t.A,{}),(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account preferences and settings"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("div",{className:"border-b border-gray-200",children:(0,l.jsx)("nav",{className:"flex",children:[{id:"profile",label:"Profile",icon:"\uD83D\uDC64"},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14"},{id:"preferences",label:"Preferences",icon:"⚙️"},{id:"security",label:"Security",icon:"\uD83D\uDD12"}].map(e=>(0,l.jsxs)("button",{onClick:()=>u(e.id),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat(c===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,l.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,l.jsxs)("div",{className:"p-6",children:["profile"===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,l.jsx)("input",{type:"text",defaultValue:(null==d||null==(e=d.user)?void 0:e.name)||"",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",defaultValue:(null==d||null==(s=d.user)?void 0:s.email)||"",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,l.jsx)("input",{type:"text",value:(null==d||null==(r=d.user)?void 0:r.role)||"user",disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dealer ID"}),(0,l.jsx)("input",{type:"text",value:(null==d||null==(o=d.user)?void 0:o.dealerId)||"None",disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100 text-gray-500"})]})]}),(0,l.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Save Changes"})]}),"notifications"===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Preferences"}),(0,l.jsx)("div",{className:"space-y-4",children:[{id:"email_reports",label:"Email Reports",desc:"Weekly performance summaries"},{id:"ai_alerts",label:"AI Alerts",desc:"Important AI visibility changes"},{id:"system_updates",label:"System Updates",desc:"Platform updates and maintenance"},{id:"competitive_intel",label:"Competitive Intelligence",desc:"Market position changes"}].map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:e.desc})]}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},e.id))})]}),"preferences"===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Application Preferences"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Dashboard View"}),(0,l.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{children:"Overview"}),(0,l.jsx)("option",{children:"Analytics"}),(0,l.jsx)("option",{children:"Reports"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Refresh Interval"}),(0,l.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{children:"Real-time"}),(0,l.jsx)("option",{children:"Every 5 minutes"}),(0,l.jsx)("option",{children:"Every 15 minutes"}),(0,l.jsx)("option",{children:"Every hour"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,l.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{children:"Light"}),(0,l.jsx)("option",{children:"Dark"}),(0,l.jsx)("option",{children:"Auto"})]})]})]})]}),"security"===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Session"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,l.jsxs)("p",{children:["Last login: ",new Date().toLocaleDateString()]}),(0,l.jsx)("p",{children:"Session expires in: 7 days"})]}),(0,l.jsx)("button",{className:"mt-2 text-red-600 hover:text-red-700 text-sm",children:"End all sessions"})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"API Access"}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Generate API tokens for programmatic access"}),(0,l.jsx)("button",{className:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700",children:"Generate Token"})]})]})]})]})]})]})})})]})}},16622:(e,s,r)=>{"use strict";r.d(s,{Qg:()=>d,ap:()=>o,ww:()=>i,zn:()=>t});var l=r(31105),a=r(19561);function n(e){let{children:s,roles:r=[],dealerId:n,fallback:t=null,requireDealer:i=!1,requireActivated:o=!0}=e,{data:d,status:c}=(0,a.useSession)();if("loading"===c)return(0,l.jsx)("div",{className:"animate-pulse bg-gray-200 rounded h-8 w-48"});if("unauthenticated"===c||!d)return(0,l.jsx)(l.Fragment,{children:t});let u=d.user,m=(null==u?void 0:u.role)||"user",h=null==u?void 0:u.dealerId,x=(null==u?void 0:u.isActive)!==!1;if(o&&!x||r.length>0&&!r.includes(m)||i&&!h)return(0,l.jsx)(l.Fragment,{children:t});if(n){if("admin"===m)return(0,l.jsx)(l.Fragment,{children:s});if(h!==n)return(0,l.jsx)(l.Fragment,{children:t})}return(0,l.jsx)(l.Fragment,{children:s})}function t(){let{data:e}=(0,a.useSession)(),s=null==e?void 0:e.user,r=(null==s?void 0:s.role)||"user",l=null==s?void 0:s.dealerId;return{isAdmin:"admin"===r,isDealer:"dealer"===r,isUser:"user"===r,hasRole:e=>r===e,hasAnyRole:e=>e.includes(r),canAccessDealer:e=>"admin"===r||l===e,dealerId:l,role:r,isActive:(null==s?void 0:s.isActive)!==!1,isAuthenticated:!!e}}function i(e){let{children:s,fallback:r=null}=e;return(0,l.jsx)(n,{roles:["admin"],fallback:r,children:s})}function o(e){let{children:s,fallback:r=null}=e;return(0,l.jsx)(n,{roles:["admin","dealer"],fallback:r,children:s})}function d(e){let{children:s,fallback:r=(0,l.jsx)("div",{className:"text-gray-500",children:"Please sign in to view this content."})}=e;return(0,l.jsx)(n,{roles:["admin","dealer","user"],fallback:r,children:s})}},50208:(e,s,r)=>{Promise.resolve().then(r.bind(r,12970))},57715:(e,s,r)=>{"use strict";r.d(s,{A:()=>d});var l=r(31105),a=r(19561),n=r(45329),t=r.n(n),i=r(57810);let o=[{href:"/dashboard",label:"Dashboard",roles:["admin","dealer","user"],icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6a2 2 0 01-2 2H10a2 2 0 01-2-2V5z"})]})},{href:"/ai-chat",label:"AI Assistant",roles:["admin","dealer","user"],icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},{href:"/analytics",label:"Analytics",roles:["admin","dealer"],icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{href:"/dealers",label:"Dealers",roles:["admin"],icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{href:"/users",label:"User Management",roles:["admin","dealer"],icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{href:"/enterprise",label:"Enterprise",roles:["admin"],badge:"Pro",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{href:"/monitoring",label:"System Monitor",roles:["admin"],icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{href:"/reports",label:"Reports",roles:["admin","dealer"],badge:"New",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{href:"/settings",label:"Settings",roles:["admin","dealer","user"],icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];function d(){var e,s,r,n;let{data:d,status:c}=(0,a.useSession)(),u=(0,i.usePathname)();if("loading"===c)return(0,l.jsx)("div",{className:"animate-pulse bg-gray-800 h-16 w-full"});if("unauthenticated"===c)return null;let m=(null==d||null==(e=d.user)?void 0:e.role)||"user",h=null==d||null==(s=d.user)?void 0:s.dealer,x=o.filter(e=>e.roles.includes(m));return(0,l.jsxs)("nav",{className:"bg-gray-800 border-b border-gray-700",children:[(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between h-16",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,l.jsx)(t(),{href:"/dashboard",className:"text-xl font-bold text-white",children:"DealershipAI"}),h&&(0,l.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-600 text-white rounded",children:h.name})]}),(0,l.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:x.map(e=>{let s=u===e.href||u.startsWith(e.href+"/");return(0,l.jsxs)(t(),{href:e.href,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200 ".concat(s?"border-blue-500 text-white":"border-transparent text-gray-300 hover:border-gray-300 hover:text-white"),children:[e.icon&&(0,l.jsx)("span",{className:"mr-2",children:e.icon}),e.label,e.badge&&(0,l.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-green-500 text-white rounded-full",children:e.badge})]},e.href)})})]}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-300 mr-4",children:["Welcome, ",(null==d||null==(r=d.user)?void 0:r.name)||(null==d||null==(n=d.user)?void 0:n.email)]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("admin"===m?"bg-red-600 text-white":"dealer"===m?"bg-blue-600 text-white":"bg-green-600 text-white"),children:m.toUpperCase()}),(0,l.jsx)("button",{onClick:()=>(0,a.signOut)(),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"Sign out"})]})]})})})]})}),(0,l.jsx)("div",{className:"sm:hidden",children:(0,l.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:x.map(e=>{let s=u===e.href;return(0,l.jsx)(t(),{href:e.href,className:"block pl-3 pr-4 py-2 border-l-4 text-sm font-medium ".concat(s?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,l.jsxs)("div",{className:"flex items-center",children:[e.icon&&(0,l.jsx)("span",{className:"mr-2",children:e.icon}),e.label,e.badge&&(0,l.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-green-500 text-white rounded-full",children:e.badge})]})},e.href)})})})]})}},57810:(e,s,r)=>{"use strict";var l=r(93702);r.o(l,"usePathname")&&r.d(s,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(s,{useRouter:function(){return l.useRouter}}),r.o(l,"useSearchParams")&&r.d(s,{useSearchParams:function(){return l.useSearchParams}})}},e=>{e.O(0,[9561,5329,6544,3239,7358],()=>e(e.s=50208)),_N_E=e.O()}]);